# M1 Milestone

## Scope

- YouTube source ingest (local download with `yt-dlp`)
- Audio normalization for ASR (`ffmpeg`, mono 16 kHz WAV)
- English ASR with timestamps (`faster-whisper`)
- Transcript outputs (`.json`, optional `.srt`)
- Automated M1 quality report (`output/qa/m1_qa_report.json`)

## CLI Entry

```bash
video-translate doctor
video-translate run-m1 --url "https://www.youtube.com/watch?v=VIDEO_ID"
```

Hardware profile example (GTX 1650 + 16GB RAM):

```bash
video-translate run-m1 --url "https://www.youtube.com/watch?v=VIDEO_ID" --config configs/profiles/gtx1650_i5_12500h.toml
```

## Acceptance Criteria

- Run directory is created under `runs/<run_id>/`
- Source media exists under `input/`
- Normalized WAV exists under `work/audio/`
- Timestamped transcript JSON exists under `output/transcript/`
- Optional SRT exists under `output/transcript/`
- QA report JSON exists under `output/qa/`
- `run_manifest.json` exists under run root
- Pipeline exits with non-zero code when `yt-dlp` or `ffmpeg` fails
- On ASR GPU OOM, fallback to CPU path is applied when enabled in config

## Out Of Scope

- Translation
- Turkish TTS
- Advanced sync engine
- Final dub/video mix

## Handoff To M2

- Use `prepare-m2` command to generate translation input contract from M1 transcript.

## Completion Evidence (2026-02-17)

- Real YouTube run completed on:
  - `runs/finalize_m1m2/m1_real_medium_cpu`
  - `runs/finalize_m1m2/m1_real_small_cpu`
- Core M1 artifacts generated:
  - `run_manifest.json`
  - `output/transcript/transcript.en.json`
  - `output/transcript/transcript.en.srt`
  - `output/qa/m1_qa_report.json`
- Medium profile M1 QA:
  - `quality_flags: []`
  - `language_probability: 1.0`
